var j=Object.defineProperty;var b=(e,t,r)=>t in e?j(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var c=(e,t,r)=>b(e,typeof t!="symbol"?t+"":t,r);import{j as o}from"./jsx-runtime-BdivIsZm.js";import{r as k}from"./vendor-CIaSNbmr.js";import"./addressinput-DR7TMhaL.js";import"./alert-CmQfHnIB.js";import"./Avatar-DpmMIMRY.js";import"./badge-CCDj6nE-.js";import"./billingstatus-FUl2LzUo.js";import"./Breadcrumbs-CD8-NpFW.js";import{B as u}from"./button-CVrJYqSg.js";import"./card-CiIM_3zT.js";import"./checkbox-C1904Hbm.js";import"./clientbadge-B0vBhpoP.js";import"./collaboratoravatar-Cj5swjSt.js";import"./colorpicker-CP25QCKe.js";import"./consenttoggle-CWNbEheV.js";import"./currencyinput-DDECLqEx.js";import"./datepicker-CMcbHV_K.js";import"./documenttype-CE1WVI-a.js";import"./dropdown-menu-B74Grn0N.js";import"./EmptyState-DN3TLLmB.js";import"./expertisetag-DukMPJHx.js";import"./icon-n7_CnhNS.js";import"./image-Cvhw9Q6R.js";import"./input-Dghz61Zk.js";import"./label-M8x0GrR1.js";import"./loadingoverlay-DjyusYgl.js";import"./Logo-CikAc-tf.js";import"./modal-D4RiM4xB.js";import"./OnboardingWizard-rVn84COl.js";import"./Pagination-Cml1MfcN.js";import"./phoneinput-FjD8a10x.js";import"./progress-B0d5sHx6.js";import"./progressindicator-D_fPiVDx.js";import"./projectphase-BL3LsC6t.js";import"./richtexteditor-BZqFfy3-.js";import"./select-CWC_Y-a8.js";import"./separator-CCHR5v8x.js";import"./skeletonloader-D9azb5oV.js";import"./slider-3m5Aqiuu.js";import"./spinner-CPvlAmSZ.js";import"./StatusDot-BnZf1aWI.js";import"./switch-Ceff0QjZ.js";import"./tabs-BpPu-ig0.js";import"./textarea-CZkKCT_E.js";import"./timeindicator-Bsyu2Dbt.js";import"./timepicker-CHlwWyrs.js";import"./timerangeinput-BAd-BBKO.js";import"./toast-CIJrJnz7.js";import"./verticalslider-DWEhyKS6.js";import"./workspaceicon-C6jyzXCI.js";import"./container-Z7k16UFv.js";import"./flex-c2B3-bxM.js";import"./grid-DwXfsyQu.js";import"./panel-B-9ixgye.js";import"./stack-BHVBUkCW.js";import"./supabase-_6SMTDjj.js";import{c as C}from"./utils-Cp60jHzs.js";import"./cn-Bi5Kq-9L.js";import"./clsx-B-dksMZM.js";import"./x-DZ2Nmj4W.js";import"./createLucideIcon-CFfAzFt4.js";import"./chunk-QMGIS6GS-DcNV08QD.js";import"./index-Xt719Idm.js";import"./index-DmaVp8Gi.js";import"./index-CKrSpwSu.js";import"./index-Cnb6cu69.js";import"./index-YRhHAZgY.js";import"./check-BgTDyPES.js";import"./index-ClffgVbT.js";import"./Combination-CfN0ooRb.js";import"./index-Bhr8f8jx.js";import"./index-DZjeVAfm.js";import"./floating-ui.dom-DtF1XweH.js";import"./index-C_M4-wMA.js";import"./chevron-right-DCSbz_2P.js";import"./circle-CCrQh0AO.js";import"./users-C9yZEvey.js";import"./chevron-down-DDkHMo_x.js";import"./settings-D7npsBbE.js";import"./folder-D3RaKPRK.js";import"./index-Cgc55meF.js";import"./immer-3uZG5tlX.js";import"./toConsumableArray-BIhBLUu1.js";import"./bootstrap-L77bMaJk.js";class T{report(t,r){console.group("Error Reporter"),console.error("Caught an error:",t),console.log("Additional info:",r),console.groupEnd()}}const B=new T;class m extends k.Component{constructor(r){super(r);c(this,"resetError",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,i){B.report(r,i),this.props.onError&&this.props.onError(r,i)}render(){const{hasError:r,error:i}=this.state,{fallback:n,children:a,context:l,level:v}=this.props;return r&&i?n?o.jsx(n,{error:i,resetError:this.resetError,context:l,level:v}):o.jsx("h1",{children:"Something went wrong."}):a}}try{m.displayName="ErrorBoundary",m.__docgenInfo={description:"",displayName:"ErrorBoundary",props:{context:{defaultValue:null,description:"",name:"context",required:!1,type:{name:"enum",value:[{value:'"consultant"'},{value:'"client"'},{value:'"admin"'},{value:'"neutral"'}]}},fallback:{defaultValue:null,description:"",name:"fallback",required:!1,type:{name:"React.ComponentType<ErrorFallbackProps>"}},onError:{defaultValue:null,description:"",name:"onError",required:!1,type:{name:"(error: Error, errorInfo: ErrorInfo) => void"}},resetKeys:{defaultValue:null,description:"",name:"resetKeys",required:!1,type:{name:"(string | number)[]"}},resetOnPropsChange:{defaultValue:null,description:"",name:"resetOnPropsChange",required:!1,type:{name:"boolean"}},isolate:{defaultValue:null,description:"",name:"isolate",required:!1,type:{name:"boolean"}},level:{defaultValue:null,description:"",name:"level",required:!1,type:{name:"enum",value:[{value:'"page"'},{value:'"section"'},{value:'"component"'}]}}}}}catch{}const x=({error:e,resetError:t,context:r,level:i})=>{const n=C(e);return o.jsxs("div",{role:"alert",children:[o.jsx("h2",{children:n.userMessage}),o.jsxs("p",{children:["Context: ",r]}),o.jsxs("p",{children:["Level: ",i]}),o.jsxs("details",{children:[o.jsx("summary",{children:"Error Details"}),o.jsx("pre",{children:n.technicalMessage})]}),n.suggestedActions.map((a,l)=>o.jsx(u,{onClick:a.action,variant:a.type,children:a.label},l)),o.jsx(u,{onClick:t,children:"Try again"})]})},po={title:"Patterns/Errors/ErrorBoundary",component:m,argTypes:{context:{control:{type:"select",options:["consultant","client","admin","neutral"]}},level:{control:{type:"select",options:["page","section","component"]}}}},_=()=>{throw new Error("This is a test error.")},w=e=>o.jsx(m,{...e,children:o.jsx(_,{})}),s=w.bind({});s.args={fallback:x};const q=()=>o.jsx("div",{children:"This component works fine."}),V=e=>o.jsx(m,{...e,children:o.jsx(q,{})}),p=V.bind({});p.args={fallback:x};var d,h,E;s.parameters={...s.parameters,docs:{...(d=s.parameters)==null?void 0:d.docs,source:{originalSource:`args => <ErrorBoundary {...args}>
    <ComponentThatThrows />
  </ErrorBoundary>`,...(E=(h=s.parameters)==null?void 0:h.docs)==null?void 0:E.source}}};var f,g,y;p.parameters={...p.parameters,docs:{...(f=p.parameters)==null?void 0:f.docs,source:{originalSource:`args => <ErrorBoundary {...args}>
      <ComponentThatWorks />
    </ErrorBoundary>`,...(y=(g=p.parameters)==null?void 0:g.docs)==null?void 0:y.source}}};const mo=["Default","NoError"];export{s as Default,p as NoError,mo as __namedExportsOrder,po as default};
