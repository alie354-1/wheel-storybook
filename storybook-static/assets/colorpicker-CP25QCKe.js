import{j as r}from"./jsx-runtime-BdivIsZm.js";import{r as t}from"./vendor-CIaSNbmr.js";const c=t.forwardRef(({context:m="neutral",value:s="#000000",onChange:p,format:E="hex",presets:F=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF"],allowCustom:C=!0,validationState:a="none",helperText:f,errorMessage:g,warningMessage:h,successMessage:b,label:y,required:q=!1,disabled:x=!1,name:P,id:V},k)=>{const[l,v]=t.useState(s),[o,i]=t.useState(!1),u=t.useRef(null),w=V||`colorpicker-${Math.random().toString(36).substr(2,9)}`;t.useEffect(()=>{v(s)},[s]);const d=e=>{v(e),p&&p(e)},j=e=>{d(e),i(!1)};t.useEffect(()=>{const e=_=>{u.current&&!u.current.contains(_.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const N=["relative inline-flex items-center p-1 border rounded-lg shadow-sm","disabled:cursor-not-allowed disabled:opacity-50 transition-colors duration-200",a!=="none"?(()=>{switch(a){case"error":return"border-red-500 focus-within:ring-red-500";case"warning":return"border-yellow-500 focus-within:ring-yellow-500";case"success":return"border-green-500 focus-within:ring-green-500";default:return""}})():(()=>{switch(m){case"consultant":return"border-blue-400 focus-within:ring-blue-500";case"client":return"border-green-400 focus-within:ring-green-500";case"admin":return"border-gray-400 focus-within:ring-gray-500";case"expert":return"border-purple-400 focus-within:ring-purple-500";case"toolCreator":return"border-indigo-400 focus-within:ring-indigo-500";case"founder":return"border-orange-400 focus-within:ring-orange-500";default:return"border-slate-300 focus-within:ring-slate-500"}})()].filter(Boolean).join(" "),n=g&&a==="error"?{type:"error",message:g}:h&&a==="warning"?{type:"warning",message:h}:b&&a==="success"?{type:"success",message:b}:f?{type:"helper",message:f}:null;return r.jsxs("div",{ref:k,children:[y&&r.jsxs("label",{htmlFor:w,className:"block text-sm font-medium text-slate-700 mb-1",children:[y,q&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),r.jsxs("div",{className:N,ref:u,children:[r.jsx("button",{type:"button",id:w,className:"w-8 h-8 rounded-md border border-slate-300",style:{backgroundColor:l},onClick:()=>i(!o),disabled:x,"aria-haspopup":"true","aria-expanded":o}),r.jsx("input",{type:"text",className:"ml-2 p-1 w-32 border-none focus:ring-0",value:l,onChange:e=>d(e.target.value),disabled:x}),o&&r.jsxs("div",{className:"absolute top-full left-0 mt-2 p-4 bg-white border rounded-lg shadow-lg z-10",children:[r.jsx("div",{className:"grid grid-cols-6 gap-2 mb-4",children:F.map(e=>r.jsx("button",{type:"button",className:"w-8 h-8 rounded-full border",style:{backgroundColor:e},onClick:()=>j(e)},e))}),C&&r.jsx("input",{type:"color",className:"w-full h-10 p-0 border-none cursor-pointer",value:l,onChange:e=>d(e.target.value)})]})]}),n&&r.jsx("p",{className:`mt-1 text-sm ${n.type==="error"?"text-red-600":n.type==="warning"?"text-yellow-600":n.type==="success"?"text-green-600":"text-slate-600"}`,children:n.message})]})});c.displayName="ColorPicker";try{c.displayName="ColorPicker",c.__docgenInfo={description:"",displayName:"ColorPicker",props:{context:{defaultValue:{value:"neutral"},description:"Workspace context for styling",name:"context",required:!1,type:{name:"enum",value:[{value:'"consultant"'},{value:'"client"'},{value:'"admin"'},{value:'"expert"'},{value:'"founder"'},{value:'"neutral"'},{value:'"toolCreator"'}]}},value:{defaultValue:{value:"#000000"},description:"The current color value",name:"value",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"Callback when the color changes",name:"onChange",required:!1,type:{name:"(color: string) => void"}},format:{defaultValue:{value:"hex"},description:"The format of the color string",name:"format",required:!1,type:{name:"enum",value:[{value:'"hex"'},{value:'"rgb"'},{value:'"hsl"'}]}},presets:{defaultValue:{value:"['#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#FF00FF', '#00FFFF']"},description:"A list of preset colors to display",name:"presets",required:!1,type:{name:"string[]"}},allowCustom:{defaultValue:{value:"true"},description:"Allow users to select a custom color",name:"allowCustom",required:!1,type:{name:"boolean"}},validationState:{defaultValue:{value:"none"},description:"Validation state",name:"validationState",required:!1,type:{name:"enum",value:[{value:'"success"'},{value:'"warning"'},{value:'"error"'},{value:'"none"'}]}},helperText:{defaultValue:null,description:"Helper text",name:"helperText",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"Error message",name:"errorMessage",required:!1,type:{name:"string"}},warningMessage:{defaultValue:null,description:"Warning message",name:"warningMessage",required:!1,type:{name:"string"}},successMessage:{defaultValue:null,description:"Success message",name:"successMessage",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"Label for the color picker",name:"label",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"Whether the field is required",name:"required",required:!1,type:{name:"boolean"}},disabled:{defaultValue:{value:"false"},description:"Whether the color picker is disabled",name:"disabled",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"Name attribute",name:"name",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"ID attribute",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{c as C};
